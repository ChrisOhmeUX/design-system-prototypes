<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Users - Ohme Hub</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone@7.23.5/babel.min.js"></script>
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --color-surface-canvas: #FFFFFF;
      --color-surface-base: #F5F8FA;
      --color-surface-raised: #FFFFFF;
      --color-surface-subtle: #E5E8E8;
      --color-content-primary: #032536;
      --color-content-secondary: #647882;
      --color-border-default: #ADB3B1;
      --color-border-subtle: #E5E8E8;
      --sidebar-width: 204px;
    }

    [data-theme="dark"] {
      --color-surface-canvas: #032536;
      --color-surface-base: #0B2539;
      --color-surface-raised: #0B2539;
      --color-surface-subtle: #1D2A54;
      --color-content-primary: #FFFFFF;
      --color-content-secondary: #ADB3B1;
      --color-border-subtle: #2C3E4A;
    }

    html, body {
      height: 100%;
      overflow: hidden;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: var(--color-surface-base);
      margin: 0;
      transition: background-color 300ms ease;
    }

    .page-container {
      width: 100vw;
      height: 100vh;
      position: relative;
      background: var(--color-surface-base);
      display: flex;
      flex-direction: column;
    }

    /* Hub Toolbar */
    .hub-toolbar {
      width: 100%;
      height: 64px;
      background: linear-gradient(1.8deg, #0B2539 0%, #292C68 98.02%);
      display: flex;
      align-items: center;
      padding: 18px 28px;
      gap: 40px;
      z-index: 10;
      flex-shrink: 0;
    }

    .hub-toolbar-label {
      font-size: 20px;
      line-height: 26px;
      font-weight: 500;
      cursor: pointer;
    }

    .hub-toolbar-label.active { color: #00FFD6; }
    .hub-toolbar-label.inactive { color: white; }

    .theme-toggle-wrapper {
      margin-left: auto;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .theme-label { font-size: 14px; color: white; }

    .toggle-switch {
      position: relative;
      width: 56px;
      height: 32px;
      background: #E5E8E8;
      border: 1px solid #032536;
      border-radius: 100px;
      cursor: pointer;
    }

    .toggle-switch.active { background: #00FFD6; }

    .toggle-thumb {
      position: absolute;
      top: 3px;
      left: 3px;
      width: 24px;
      height: 24px;
      background: #F5F8FA;
      border: 1px solid #ADB3B1;
      border-radius: 50%;
      transition: left 200ms ease;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
    }

    .toggle-switch.active .toggle-thumb {
      left: 27px;
      background: white;
      border-color: #0EBA9E;
    }

    /* Layout below toolbar */
    .layout-container {
      display: flex;
      flex: 1;
      overflow: hidden;
    }

    /* Menu Drawer */
    .menu-drawer {
      width: var(--sidebar-width);
      height: 100%;
      background: #032536;
      flex-shrink: 0;
      position: relative;
    }

    .menu-main {
      padding: 24px 16px;
      display: flex;
      flex-direction: column;
      gap: 32px;
    }

    .menu-logo-text {
      font-size: 16px;
      color: white;
      text-transform: uppercase;
      letter-spacing: 3px;
      margin-top: 8px;
    }

    .menu-section-label {
      font-size: 18px;
      line-height: 24px;
      color: #93BFBC;
      margin-bottom: 20px;
    }

    .menu-items {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .menu-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 8px;
      border-radius: 6px;
      background: transparent;
      border: none;
      cursor: pointer;
      width: 100%;
      text-align: left;
    }

    .menu-item:hover { background: rgba(0, 203, 255, 0.08); }
    .menu-item.active { background: rgba(0, 203, 255, 0.12); }

    .menu-item-icon {
      width: 24px;
      height: 24px;
      color: #00FFD6;
      flex-shrink: 0;
    }

    .menu-item-text {
      font-size: 18px;
      line-height: 24px;
      color: white;
    }

    .menu-item.active .menu-item-text { color: #00FFD6; }

    .menu-userbar {
      position: absolute;
      bottom: 24px;
      left: 16px;
      width: 172px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .menu-user-info {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px;
    }

    .menu-user-avatar {
      width: 40px;
      height: 40px;
      border-radius: 6px;
      background: #647882;
    }

    .menu-user-name {
      font-size: 18px;
      color: white;
    }

    .menu-user-role {
      font-size: 14px;
      color: #93BFBC;
    }

    .menu-collapse {
      position: absolute;
      top: 56px;
      right: -11px;
      width: 24px;
      height: 24px;
      background: #003A37;
      border-radius: 100px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 18px;
      color: #00FFD6;
    }

    /* Main Content Area */
    .main-area {
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    /* Header Bar */
    .header-bar {
      width: 100%;
      height: 68px;
      background: var(--color-surface-base);
      border-bottom: 1px solid rgba(3, 37, 54, 0.1);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 32px;
      flex-shrink: 0;
    }

    .back-button {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px;
      background: transparent;
      border: none;
      cursor: pointer;
    }

    .back-button-text {
      font-size: 16px;
      font-weight: 500;
      color: var(--color-content-primary);
    }

    .header-company {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .header-company-name {
      font-size: 18px;
      color: var(--color-content-primary);
    }

    /* Content Container with Footer */
    .content-container {
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow-y: auto;
      padding: 24px;
    }

    /* Main Content */
    .main-content {
      max-width: 1647px;
      width: 100%;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 16px;
      flex: 1;
    }

    .title-group {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
      height: 51px;
    }

    .title-header {
      display: flex;
      align-items: center;
      gap: 13px;
    }

    .title-text {
      font-size: 44px;
      line-height: 51px;
      font-weight: 500;
      color: var(--color-content-primary);
    }

    .add-user-button {
      display: flex;
      align-items: center;
      gap: 12px;
      height: 48px;
      padding: 12px 24px;
      background: #00FFD6;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: all 150ms ease;
    }

    .add-user-button:hover {
      background: #00E6C7;
      transform: translateY(-1px);
    }

    .add-user-button-text {
      font-size: 18px;
      font-weight: 600;
      color: #032536;
    }

    /* Table Container */
    .table-container {
      background: var(--color-surface-raised);
      border-radius: 6px;
      box-shadow: 0px 10px 35px 0px rgba(0, 0, 0, 0.05);
      padding: 12px;
      width: 100%;
      flex: 1;
      display: flex;
      flex-direction: column;
      min-height: 0;
    }

    .table-inner {
      display: flex;
      flex-direction: column;
      gap: 18px;
      flex: 1;
      min-height: 0;
    }

    .table-controls {
      display: flex;
      flex-direction: column;
      gap: 24px;
      padding: 32px 0 16px 0;
      flex-shrink: 0;
    }

    .search-and-filter {
      display: flex;
      gap: 32px;
    }

    .search-input-wrapper { flex: 1; }

    .search-input {
      width: 100%;
      height: 48px;
      padding: 12px 16px;
      background: var(--color-surface-raised);
      border: 1px solid var(--color-border-default);
      border-radius: 6px;
      font-size: 16px;
      color: var(--color-content-primary);
    }

    .search-input::placeholder { color: var(--color-content-secondary); }
    .search-input:focus {
      outline: none;
      border-color: #00FFD6;
    }

    .filter-button {
      display: flex;
      align-items: center;
      gap: 12px;
      height: 48px;
      padding: 12px;
      background: var(--color-surface-raised);
      border: 1px solid var(--color-content-primary);
      border-radius: 6px;
      cursor: pointer;
      flex-shrink: 0;
    }

    .filter-button:hover { background: var(--color-surface-base); }

    .filter-button.has-filters {
      background: #F8E4FF;
      border-color: #510076;
    }

    .filter-button.has-filters .filter-button-text {
      color: #510076;
    }

    .filter-button-text {
      font-size: 18px;
      font-weight: 600;
      color: var(--color-content-primary);
      white-space: nowrap;
    }

    /* Applied Filters */
    .applied-filters {
      display: flex;
      align-items: center;
      gap: 16px;
      flex-wrap: wrap;
    }

    .filter-pills {
      display: flex;
      gap: 12px;
      flex: 1;
    }

    .filter-pill {
      display: flex;
      align-items: center;
      gap: 6px;
      height: 24px;
      padding: 4px 12px;
      background: #FFF2C6;
      color: #441906;
      border-radius: 6px;
      font-size: 14px;
    }

    [data-theme="dark"] .filter-pill {
      background: #441906;
      color: #FFF2C6;
    }

    .filter-pill-label { font-weight: 600; }
    .filter-pill-value { font-weight: 400; }

    .filter-pill-remove {
      background: none;
      border: none;
      color: currentColor;
      cursor: pointer;
      font-size: 18px;
      padding: 0;
      width: 16px;
      height: 16px;
    }

    .clear-filters-button {
      background: none;
      border: none;
      color: var(--color-content-secondary);
      cursor: pointer;
      font-size: 14px;
      text-decoration: underline;
    }

    .clear-filters-button:hover {
      color: var(--color-content-primary);
    }

    /* Table */
    .table-results {
      display: flex;
      flex-direction: column;
      gap: 24px;
      flex: 1;
      min-height: 0;
    }

    .results-count {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 18px;
      color: var(--color-content-primary);
      flex-shrink: 0;
    }

    .results-count .regular { font-weight: 400; }
    .results-count .semibold { font-weight: 600; }

    .table-wrapper {
      flex: 1;
      min-height: 0;
      overflow-y: auto;
    }

    .table-body {
      display: flex;
      flex-direction: column;
    }

    .table-header {
      display: flex;
      height: 32px;
      padding: 0 12px;
      gap: 7px;
      position: sticky;
      top: 0;
      background: var(--color-surface-raised);
      z-index: 1;
    }

    .table-header-cell {
      display: flex;
      align-items: center;
      padding: 0 8px;
    }

    .table-header-label {
      font-size: 13px;
      font-weight: 400;
      color: #8F9DA4;
      text-transform: uppercase;
    }

    .table-row {
      display: flex;
      height: 72px;
      background: var(--color-surface-raised);
      border-bottom: 1px solid var(--color-border-subtle);
      padding: 0 12px;
      gap: 8px;
    }

    .table-row:hover {
      background: var(--color-surface-base);
    }

    .table-cell {
      display: flex;
      align-items: center;
      padding: 0 8px;
    }

    .namegroup-cell {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .namegroup-avatar {
      width: 32px;
      height: 32px;
      border-radius: 6px;
      background: #647882;
    }

    .namegroup-name {
      font-size: 18px;
      color: var(--color-content-primary);
    }

    .text-cell {
      font-size: 18px;
      color: var(--color-content-primary);
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .status-pill {
      display: inline-flex;
      align-items: center;
      height: 32px;
      padding: 4px 12px;
      border-radius: 6px;
      font-size: 14px;
    }

    .status-pill.active {
      background: #DDFBE5;
      color: #072C14;
    }

    [data-theme="dark"] .status-pill.active {
      background: #072C14;
      color: #DDFBE5;
    }

    .status-pill.inactive {
      background: #FFE1E1;
      color: #580202;
    }

    [data-theme="dark"] .status-pill.inactive {
      background: #580202;
      color: #FFE1E1;
    }

    .action-cell {
      display: flex;
      justify-content: flex-end;
      flex: 1;
    }

    .action-button {
      width: 32px;
      height: 32px;
      padding: 8px;
      background: transparent;
      border: 1px solid var(--color-content-primary);
      border-radius: 6px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 150ms ease;
    }

    .action-button:hover {
      background: var(--color-surface-base);
    }

    .action-button svg {
      color: var(--color-content-primary);
    }

    .empty-state {
      padding: 80px 40px;
      text-align: center;
      color: var(--color-content-secondary);
    }

    .empty-state h3 {
      font-size: 20px;
      margin-bottom: 8px;
      color: var(--color-content-primary);
    }

    /* Pagination */
    .pagination {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 16px 0;
      flex-shrink: 0;
    }

    .pagination-button {
      width: 32px;
      height: 32px;
      border: 1px solid var(--color-border-default);
      background: var(--color-surface-raised);
      border-radius: 4px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 150ms ease;
    }

    .pagination-button:hover:not(:disabled) {
      background: var(--color-surface-base);
      border-color: var(--color-content-secondary);
    }

    .pagination-button:disabled {
      opacity: 0.4;
      cursor: not-allowed;
    }

    .pagination-info {
      font-size: 14px;
      color: var(--color-content-secondary);
      padding: 0 8px;
    }

    /* Footer - now sits below table */
    .footer {
      width: 100%;
      max-width: 1647px;
      height: 48px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 32px;
      margin: 24px auto 0;
      flex-shrink: 0;
    }

    .footer-copy, .footer-phone {
      font-size: 15px;
      color: var(--color-content-primary);
      opacity: 0.5;
    }

    .footer-copy { flex: 1; }

    .footer-support {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 4px 8px;
      background: var(--color-surface-raised);
      border-radius: 6px;
      cursor: pointer;
    }

    .footer-support:hover {
      background: var(--color-surface-base);
    }

    .footer-support-text {
      font-size: 16px;
      color: var(--color-content-primary);
    }

    /* Modal */
    .overlay {
      position: fixed;
      inset: 0;
      background-color: rgba(3, 37, 54, 0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }

    .modal {
      background: var(--color-surface-raised);
      border: 1px solid var(--color-border-subtle);
      border-radius: 6px;
      box-shadow: 0px 10px 35px 0px rgba(0, 0, 0, 0.05);
      width: 783px;
      max-width: 90vw;
      max-height: 90vh;
      display: flex;
      flex-direction: column;
      gap: 32px;
      padding: 32px 24px;
      overflow: hidden;
    }

    .titleGroup {
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid #F1F1F1;
      padding-bottom: 16px;
    }

    .modal-title {
      font-size: 31px;
      font-weight: 400;
      color: var(--color-content-primary);
    }

    .closeButton {
      width: 40px;
      height: 40px;
      background: transparent;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .closeButton:hover {
      background: var(--color-surface-base);
    }

    .searchInput { position: relative; }

    .modal-input {
      width: 100%;
      height: 48px;
      padding: 12px 48px 12px 16px;
      background: var(--color-surface-raised);
      border: 1px solid var(--color-border-default);
      border-radius: 6px;
      font-size: 16px;
      color: var(--color-content-primary);
    }

    .modal-input::placeholder { color: var(--color-content-secondary); }
    .modal-input:focus {
      outline: none;
      border-color: #00FFD6;
    }

    .modal-search-icon {
      position: absolute;
      right: 12px;
      top: 50%;
      transform: translateY(-50%);
      pointer-events: none;
    }

    .resultsCount {
      font-size: 14px;
      color: var(--color-content-secondary);
      text-align: center;
    }

    .treeContainer {
      flex: 1;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 8px;
      max-height: 400px;
    }

    .hierarchyRow {
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 8px 12px;
      border-radius: 8px;
    }

    .hierarchyRow:hover {
      background: rgba(245, 248, 250, 0.3);
    }

    .iconWrapper {
      width: 40px;
      height: 40px;
      padding: 4px;
      background: var(--color-surface-raised);
      border-radius: 4px;
      box-shadow: 0px 1px 5px rgba(72, 70, 70, 0.07);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--color-content-secondary);
      flex-shrink: 0;
    }

    .content {
      flex: 1;
      min-width: 0;
    }

    .header {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .name {
      font-size: 16px;
      font-weight: 600;
      color: var(--color-content-primary);
    }

    .subtitle {
      font-size: 14px;
      color: var(--color-content-secondary);
    }

    .chevronButton {
      width: 24px;
      height: 24px;
      padding: 4px;
      background: var(--color-surface-raised);
      border: none;
      border-radius: 4px;
      box-shadow: 0px 1px 5px rgba(72, 70, 70, 0.07);
      cursor: pointer;
      color: var(--color-content-secondary);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .chevronCollapsed { transform: rotate(-90deg); }
    .chevronExpanded { transform: rotate(0deg); }

    .pill {
      height: 24px;
      padding: 4px 12px;
      border-radius: 6px;
      font-size: 12px;
      flex-shrink: 0;
    }

    .pill-region { background: #F8E4FF; color: #510076; }
    .pill-product { background: #FFF2C6; color: #441906; }
    .pill-org { background: #D1EFFF; color: #062965; }
    .pill-dealership { background: #C0FFF6; color: #003A37; }
    .pill-role { background: #FFF2C6; color: #441906; }

    [data-theme="dark"] .pill-region { background: #510076; color: #F8E4FF; }
    [data-theme="dark"] .pill-product { background: #441906; color: #FFF2C6; }
    [data-theme="dark"] .pill-org { background: #062965; color: #D1EFFF; }
    [data-theme="dark"] .pill-dealership { background: #003A37; color: #C0FFF6; }
    [data-theme="dark"] .pill-role { background: #441906; color: #FFF2C6; }

    .selectButton {
      height: 28px;
      padding: 4px 12px;
      background: transparent;
      border: none;
      border-radius: 4px;
      font-size: 12px;
      cursor: pointer;
    }

    .selectButton-region { color: #510076; }
    .selectButton-region:hover { background: rgba(248, 228, 255, 0.5); }
    .selectButton-product { color: #441906; }
    .selectButton-product:hover { background: rgba(255, 242, 198, 0.5); }
    .selectButton-org { color: #062965; }
    .selectButton-org:hover { background: rgba(209, 239, 255, 0.5); }
    .selectButton-dealership { color: #003A37; }
    .selectButton-dealership:hover { background: rgba(192, 255, 246, 0.5); }
    .selectButton-role { color: #441906; }
    .selectButton-role:hover { background: rgba(255, 242, 198, 0.5); }

    .nestedLevel {
      display: flex;
      margin-left: 28px;
    }

    .connector {
      width: 56px;
      flex-shrink: 0;
      position: relative;
      margin-left: -28px;
    }

    .connector::before {
      content: '';
      position: absolute;
      left: 28px;
      top: 0;
      bottom: 0;
      width: 1px;
      background: var(--color-border-subtle);
    }

    .childrenContainer {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .selectedFilter {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 16px;
      background: var(--color-surface-base);
      border: 1px solid var(--color-border-default);
      border-radius: 6px;
      gap: 16px;
    }

    .selectedLabel {
      font-size: 14px;
      color: var(--color-content-primary);
      flex: 1;
    }

    .selectedCount {
      color: var(--color-content-secondary);
    }

    .clearButton {
      padding: 8px 12px;
      background: transparent;
      border: none;
      font-size: 14px;
      color: var(--color-content-secondary);
      cursor: pointer;
      text-decoration: underline;
    }

    .modal-footer {
      font-size: 14px;
      color: var(--color-content-secondary);
      text-align: center;
    }

    .primaryButton {
      width: 100%;
      height: 48px;
      padding: 12px 24px;
      background: #00FFD6;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      font-weight: 600;
      color: #032536;
      cursor: pointer;
    }

    .primaryButton:disabled {
      background: #D1D1D1;
      color: #647882;
      cursor: not-allowed;
    }

    .col-name { width: 262px; }
    .col-email { width: 300px; }
    .col-hub { width: 120px; }
    .col-status { width: 140px; }
    .col-last-active { width: 116px; }
    .col-action { flex: 1; }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useMemo, useEffect } = React;

    // Data - 3 Regions with Multiple Orgs
    const HIERARCHY_DATA = [
      {
        id: 'uk',
        name: 'United Kingdom',
        type: 'Region',
        userCount: 18,
        children: [
          {
            id: 'connect',
            name: 'Connect',
            type: 'Product',
            userCount: 7,
            children: [
              {
                id: 'energize-solutions',
                name: 'Energize Solutions Ltd',
                type: 'Org',
                userCount: 3,
                children: [
                  { id: 'admin', name: 'Admin', type: 'Role', userCount: 1 },
                  { id: 'installer', name: 'Installer', type: 'Role', userCount: 2 }
                ]
              },
              {
                id: 'tesla-uk',
                name: 'Tesla UK Partners',
                type: 'Org',
                userCount: 2,
                children: [
                  { id: 'admin', name: 'Admin', type: 'Role', userCount: 1 },
                  { id: 'installer', name: 'Installer', type: 'Role', userCount: 1 }
                ]
              },
              {
                id: 'green-charge',
                name: 'Green Charge Solutions',
                type: 'Org',
                userCount: 2,
                children: [
                  { id: 'installer', name: 'Installer', type: 'Role', userCount: 2 }
                ]
              }
            ]
          },
          {
            id: 'dealer-portal',
            name: 'Dealer Portal',
            type: 'Product',
            userCount: 6,
            children: [
              {
                id: 'vwec25',
                name: 'VWec25',
                type: 'Dealer Group',
                userCount: 4,
                children: [
                  {
                    id: 'vw-brighton',
                    name: 'VW Brighton Central',
                    type: 'Dealership',
                    userCount: 2,
                    children: [
                      { id: 'sales', name: 'Sales', type: 'Role', userCount: 1 },
                      { id: 'service', name: 'Service', type: 'Role', userCount: 1 }
                    ]
                  },
                  {
                    id: 'vw-bristol',
                    name: 'VW Bristol Parkway',
                    type: 'Dealership',
                    userCount: 2,
                    children: [
                      { id: 'sales', name: 'Sales', type: 'Role', userCount: 1 },
                      { id: 'service', name: 'Service', type: 'Role', userCount: 1 }
                    ]
                  }
                ]
              },
              {
                id: 'bmw-group',
                name: 'BMW Group UK',
                type: 'Dealer Group',
                userCount: 2,
                children: [
                  {
                    id: 'bmw-london',
                    name: 'BMW London',
                    type: 'Dealership',
                    userCount: 2,
                    children: [
                      { id: 'sales', name: 'Sales', type: 'Role', userCount: 1 },
                      { id: 'service', name: 'Service', type: 'Role', userCount: 1 }
                    ]
                  }
                ]
              }
            ]
          },
          {
            id: 'fleet',
            name: 'Fleet Portal',
            type: 'Product',
            userCount: 3,
            children: [
              {
                id: 'royal-mail',
                name: 'Royal Mail Fleet',
                type: 'Org',
                userCount: 2,
                children: [
                  { id: 'fleet-manager', name: 'Fleet Manager', type: 'Role', userCount: 1 },
                  { id: 'driver', name: 'Driver', type: 'Role', userCount: 1 }
                ]
              },
              {
                id: 'tesco-fleet',
                name: 'Tesco Distribution',
                type: 'Org',
                userCount: 1,
                children: [
                  { id: 'driver', name: 'Driver', type: 'Role', userCount: 1 }
                ]
              }
            ]
          },
          {
            id: 'hub',
            name: 'Hub',
            type: 'Product',
            userCount: 2,
            children: [
              {
                id: 'ohme-admin',
                name: 'Ohme Admin',
                type: 'Org',
                userCount: 2,
                children: [
                  { id: 'admin', name: 'Admin', type: 'Role', userCount: 1 },
                  { id: 'support', name: 'Support', type: 'Role', userCount: 1 }
                ]
              }
            ]
          }
        ]
      },
      {
        id: 'europe',
        name: 'Europe',
        type: 'Region',
        userCount: 9,
        children: [
          {
            id: 'connect',
            name: 'Connect',
            type: 'Product',
            userCount: 5,
            children: [
              {
                id: 'paris-electric',
                name: 'Paris Electric SARL',
                type: 'Org',
                userCount: 2,
                children: [
                  { id: 'admin', name: 'Admin', type: 'Role', userCount: 1 },
                  { id: 'installer', name: 'Installer', type: 'Role', userCount: 1 }
                ]
              },
              {
                id: 'berlin-ev',
                name: 'Berlin EV Services GmbH',
                type: 'Org',
                userCount: 2,
                children: [
                  { id: 'installer', name: 'Installer', type: 'Role', userCount: 2 }
                ]
              },
              {
                id: 'amsterdam-charge',
                name: 'Amsterdam Charge Network',
                type: 'Org',
                userCount: 1,
                children: [
                  { id: 'installer', name: 'Installer', type: 'Role', userCount: 1 }
                ]
              }
            ]
          },
          {
            id: 'fleet',
            name: 'Fleet Portal',
            type: 'Product',
            userCount: 4,
            children: [
              {
                id: 'european-fleet',
                name: 'European Fleet Services',
                type: 'Org',
                userCount: 2,
                children: [
                  { id: 'fleet-manager', name: 'Fleet Manager', type: 'Role', userCount: 1 },
                  { id: 'driver', name: 'Driver', type: 'Role', userCount: 1 }
                ]
              },
              {
                id: 'dhl-europe',
                name: 'DHL Europe',
                type: 'Org',
                userCount: 2,
                children: [
                  { id: 'fleet-manager', name: 'Fleet Manager', type: 'Role', userCount: 1 },
                  { id: 'driver', name: 'Driver', type: 'Role', userCount: 1 }
                ]
              }
            ]
          }
        ]
      },
      {
        id: 'north-america',
        name: 'North America',
        type: 'Region',
        userCount: 6,
        children: [
          {
            id: 'connect',
            name: 'Connect',
            type: 'Product',
            userCount: 4,
            children: [
              {
                id: 'sparkcharge-usa',
                name: 'SparkCharge USA Inc',
                type: 'Org',
                userCount: 2,
                children: [
                  { id: 'admin', name: 'Admin', type: 'Role', userCount: 1 },
                  { id: 'installer', name: 'Installer', type: 'Role', userCount: 1 }
                ]
              },
              {
                id: 'ev-connect-canada',
                name: 'EV Connect Canada',
                type: 'Org',
                userCount: 2,
                children: [
                  { id: 'installer', name: 'Installer', type: 'Role', userCount: 2 }
                ]
              }
            ]
          },
          {
            id: 'fleet',
            name: 'Fleet Portal',
            type: 'Product',
            userCount: 2,
            children: [
              {
                id: 'fedex-na',
                name: 'FedEx North America',
                type: 'Org',
                userCount: 2,
                children: [
                  { id: 'fleet-manager', name: 'Fleet Manager', type: 'Role', userCount: 1 },
                  { id: 'driver', name: 'Driver', type: 'Role', userCount: 1 }
                ]
              }
            ]
          }
        ]
      }
    ];

    const ALL_USERS = [
      { id: 1, name: 'Katherine Denny', email: 'katherine@ohme.com', region: 'uk', product: 'hub', org: 'ohme-admin', role: 'admin', hub: 'Admin', status: 'Active', lastActive: '10/04/2025' },
      { id: 2, name: 'Oliver Grant', email: 'oliver.g@ohme.com', region: 'uk', product: 'hub', org: 'ohme-admin', role: 'support', hub: 'Support', status: 'Active', lastActive: '09/04/2025' },
      { id: 3, name: 'Sarah Johnson', email: 'sarah.j@energize.com', region: 'uk', product: 'connect', org: 'energize-solutions', role: 'admin', hub: 'Admin', status: 'Active', lastActive: '09/04/2025' },
      { id: 4, name: 'Michael Chen', email: 'm.chen@energize.com', region: 'uk', product: 'connect', org: 'energize-solutions', role: 'installer', hub: 'Installer', status: 'Active', lastActive: '08/04/2025' },
      { id: 5, name: 'Rachel Foster', email: 'r.foster@energize.com', region: 'uk', product: 'connect', org: 'energize-solutions', role: 'installer', hub: 'Installer', status: 'Active', lastActive: '07/04/2025' },
      { id: 6, name: 'Lisa Anderson', email: 'l.anderson@tesla-uk.com', region: 'uk', product: 'connect', org: 'tesla-uk', role: 'admin', hub: 'Admin', status: 'Active', lastActive: '08/04/2025' },
      { id: 7, name: 'Tom Williams', email: 't.williams@tesla-uk.com', region: 'uk', product: 'connect', org: 'tesla-uk', role: 'installer', hub: 'Installer', status: 'Active', lastActive: '06/04/2025' },
      { id: 8, name: 'Hannah Green', email: 'h.green@greencharge.com', region: 'uk', product: 'connect', org: 'green-charge', role: 'installer', hub: 'Installer', status: 'Active', lastActive: '05/04/2025' },
      { id: 9, name: 'Alex Turner', email: 'a.turner@greencharge.com', region: 'uk', product: 'connect', org: 'green-charge', role: 'installer', hub: 'Installer', status: 'Inactive', lastActive: '03/04/2025' },
      { id: 10, name: 'Emma Williams', email: 'emma.w@vw-brighton.com', region: 'uk', product: 'dealer-portal', org: 'vwec25', dealership: 'vw-brighton', role: 'sales', hub: 'Sales', status: 'Active', lastActive: '07/04/2025' },
      { id: 11, name: 'James Brown', email: 'j.brown@vw-brighton.com', region: 'uk', product: 'dealer-portal', org: 'vwec25', dealership: 'vw-brighton', role: 'service', hub: 'Service', status: 'Active', lastActive: '06/04/2025' },
      { id: 12, name: 'Sophie Taylor', email: 's.taylor@vw-bristol.com', region: 'uk', product: 'dealer-portal', org: 'vwec25', dealership: 'vw-bristol', role: 'sales', hub: 'Sales', status: 'Active', lastActive: '05/04/2025' },
      { id: 13, name: 'George Harris', email: 'g.harris@vw-bristol.com', region: 'uk', product: 'dealer-portal', org: 'vwec25', dealership: 'vw-bristol', role: 'service', hub: 'Service', status: 'Active', lastActive: '04/04/2025' },
      { id: 14, name: 'Charlotte Moore', email: 'c.moore@bmw-london.com', region: 'uk', product: 'dealer-portal', org: 'bmw-group', dealership: 'bmw-london', role: 'sales', hub: 'Sales', status: 'Active', lastActive: '03/04/2025' },
      { id: 15, name: 'Jack Wilson', email: 'j.wilson@bmw-london.com', region: 'uk', product: 'dealer-portal', org: 'bmw-group', dealership: 'bmw-london', role: 'service', hub: 'Service', status: 'Active', lastActive: '02/04/2025' },
      { id: 16, name: 'David Miller', email: 'd.miller@royalmail.com', region: 'uk', product: 'fleet', org: 'royal-mail', role: 'fleet-manager', hub: 'Fleet Manager', status: 'Active', lastActive: '08/04/2025' },
      { id: 17, name: 'Amy Clarke', email: 'a.clarke@royalmail.com', region: 'uk', product: 'fleet', org: 'royal-mail', role: 'driver', hub: 'Driver', status: 'Active', lastActive: '07/04/2025' },
      { id: 18, name: 'Robert Evans', email: 'r.evans@tesco.com', region: 'uk', product: 'fleet', org: 'tesco-fleet', role: 'driver', hub: 'Driver', status: 'Active', lastActive: '06/04/2025' },
      { id: 19, name: 'Marie Dubois', email: 'm.dubois@paris-electric.fr', region: 'europe', product: 'connect', org: 'paris-electric', role: 'admin', hub: 'Admin', status: 'Active', lastActive: '09/04/2025' },
      { id: 20, name: 'Pierre Laurent', email: 'p.laurent@paris-electric.fr', region: 'europe', product: 'connect', org: 'paris-electric', role: 'installer', hub: 'Installer', status: 'Active', lastActive: '08/04/2025' },
      { id: 21, name: 'Hans Schmidt', email: 'h.schmidt@berlin-ev.de', region: 'europe', product: 'connect', org: 'berlin-ev', role: 'installer', hub: 'Installer', status: 'Active', lastActive: '07/04/2025' },
      { id: 22, name: 'Klaus Weber', email: 'k.weber@berlin-ev.de', region: 'europe', product: 'connect', org: 'berlin-ev', role: 'installer', hub: 'Installer', status: 'Active', lastActive: '06/04/2025' },
      { id: 23, name: 'Jan van der Berg', email: 'j.vandenberg@amsterdam.nl', region: 'europe', product: 'connect', org: 'amsterdam-charge', role: 'installer', hub: 'Installer', status: 'Active', lastActive: '05/04/2025' },
      { id: 24, name: 'Isabella Rossi', email: 'i.rossi@eurofleet.eu', region: 'europe', product: 'fleet', org: 'european-fleet', role: 'fleet-manager', hub: 'Fleet Manager', status: 'Active', lastActive: '08/04/2025' },
      { id: 25, name: 'Carlos Martinez', email: 'c.martinez@eurofleet.eu', region: 'europe', product: 'fleet', org: 'european-fleet', role: 'driver', hub: 'Driver', status: 'Active', lastActive: '07/04/2025' },
      { id: 26, name: 'Anna Mueller', email: 'a.mueller@dhl.de', region: 'europe', product: 'fleet', org: 'dhl-europe', role: 'fleet-manager', hub: 'Fleet Manager', status: 'Active', lastActive: '06/04/2025' },
      { id: 27, name: 'Thomas Fischer', email: 't.fischer@dhl.de', region: 'europe', product: 'fleet', org: 'dhl-europe', role: 'driver', hub: 'Driver', status: 'Active', lastActive: '05/04/2025' },
      { id: 28, name: 'Jessica Martinez', email: 'j.martinez@sparkcharge.com', region: 'north-america', product: 'connect', org: 'sparkcharge-usa', role: 'admin', hub: 'Admin', status: 'Active', lastActive: '09/04/2025' },
      { id: 29, name: 'Brandon Lee', email: 'b.lee@sparkcharge.com', region: 'north-america', product: 'connect', org: 'sparkcharge-usa', role: 'installer', hub: 'Installer', status: 'Active', lastActive: '08/04/2025' },
      { id: 30, name: 'Emily Chen', email: 'e.chen@evconnect.ca', region: 'north-america', product: 'connect', org: 'ev-connect-canada', role: 'installer', hub: 'Installer', status: 'Active', lastActive: '07/04/2025' },
      { id: 31, name: 'Ryan Thompson', email: 'r.thompson@evconnect.ca', region: 'north-america', product: 'connect', org: 'ev-connect-canada', role: 'installer', hub: 'Installer', status: 'Active', lastActive: '06/04/2025' },
      { id: 32, name: 'Michelle Garcia', email: 'm.garcia@fedex.com', region: 'north-america', product: 'fleet', org: 'fedex-na', role: 'fleet-manager', hub: 'Fleet Manager', status: 'Active', lastActive: '08/04/2025' },
      { id: 33, name: 'Daniel Rodriguez', email: 'd.rodriguez@fedex.com', region: 'north-america', product: 'fleet', org: 'fedex-na', role: 'driver', hub: 'Driver', status: 'Active', lastActive: '07/04/2025' }
    ];

    // Icon Components
    const IconByType = ({ type }) => {
      const icons = {
        'Region': <svg width="32" height="32" viewBox="0 0 32 32" fill="none" stroke="currentColor"><circle cx="16" cy="16" r="12" strokeWidth="1.5"/><path d="M4 16h24M16 4c-3.5 3.5-5.5 7.5-5.5 12s2 8.5 5.5 12M16 4c3.5 3.5 5.5 7.5 5.5 12s-2 8.5-5.5 12" strokeWidth="1.5"/></svg>,
        'Product': <svg width="32" height="32" viewBox="0 0 32 32" fill="none" stroke="currentColor"><rect x="6" y="8" width="20" height="18" rx="2" strokeWidth="1.5"/><line x1="6" y1="12" x2="26" y2="12" strokeWidth="1.5"/></svg>,
        'Org': <svg width="32" height="32" viewBox="0 0 32 32" fill="none" stroke="currentColor"><rect x="4" y="6" width="24" height="22" rx="2" strokeWidth="1.5"/><line x1="4" y1="12" x2="28" y2="12" strokeWidth="1.5"/></svg>,
        'Dealer Group': <svg width="32" height="32" viewBox="0 0 32 32" fill="none" stroke="currentColor"><rect x="6" y="8" width="20" height="18" rx="2" strokeWidth="1.5"/><path d="M6 14h20" strokeWidth="1.5"/><circle cx="11" cy="19" r="2" strokeWidth="1.5"/><circle cx="21" cy="19" r="2" strokeWidth="1.5"/></svg>,
        'Dealership': <svg width="32" height="32" viewBox="0 0 32 32" fill="none" stroke="currentColor"><path d="M4 12l12-8 12 8v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V12z" strokeWidth="1.5"/><path d="M12 28v-8h8v8" strokeWidth="1.5"/></svg>,
        'Role': <svg width="32" height="32" viewBox="0 0 32 32" fill="none" stroke="currentColor"><circle cx="16" cy="12" r="4" strokeWidth="1.5"/><path d="M8 26c0-4.42 3.58-8 8-8s8 3.58 8 8" strokeWidth="1.5"/></svg>
      };
      return icons[type] || icons['Org'];
    };

    const getPillClass = (type) => {
      const map = {
        'Region': 'pill-region',
        'Product': 'pill-product',
        'Org': 'pill-org',
        'Dealer Group': 'pill-org',
        'Dealership': 'pill-dealership',
        'Role': 'pill-role'
      };
      return map[type] || 'pill-org';
    };

    const getSelectButtonClass = (type) => {
      const map = {
        'Region': 'selectButton-region',
        'Product': 'selectButton-product',
        'Org': 'selectButton-org',
        'Dealer Group': 'selectButton-org',
        'Dealership': 'selectButton-dealership',
        'Role': 'selectButton-role'
      };
      return map[type] || 'selectButton-org';
    };

    // Tree Node Component
    const TreeNode = ({ node, path, expandedNodes, onToggle, onSelect }) => {
      const nodeKey = [...path, node.id].join('/');
      const isExpanded = expandedNodes.has(nodeKey);
      const hasChildren = node.children && node.children.length > 0;

      const subtitle = hasChildren 
        ? `${node.children.length} ${node.children[0].type.toLowerCase()}${node.children.length !== 1 ? 's' : ''} | ${node.userCount} users`
        : `${node.userCount} users`;

      return (
        <div>
          <div className="hierarchyRow">
            <div className="iconWrapper">
              <IconByType type={node.type} />
            </div>
            <div className="content">
              <div className="header">
                <span className="name">{node.name}</span>
                {hasChildren && (
                  <button className="chevronButton" onClick={() => onToggle(nodeKey)}>
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" className={isExpanded ? 'chevronExpanded' : 'chevronCollapsed'}>
                      <path d="M4 6l4 4 4-4" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
                    </svg>
                  </button>
                )}
              </div>
              <div className="subtitle">{subtitle}</div>
            </div>
            <div className={`pill ${getPillClass(node.type)}`}>{node.type}</div>
            <button className={`selectButton ${getSelectButtonClass(node.type)}`} onClick={() => onSelect(node, path)}>
              Select
            </button>
          </div>

          {hasChildren && isExpanded && (
            <div className="nestedLevel">
              <div className="connector" />
              <div className="childrenContainer">
                {node.children.map(child => (
                  <TreeNode
                    key={child.id}
                    node={child}
                    path={[...path, node.id]}
                    expandedNodes={expandedNodes}
                    onToggle={onToggle}
                    onSelect={onSelect}
                  />
                ))}
              </div>
            </div>
          )}
        </div>
      );
    };

    // Filter Modal
    const UserFilterModal = ({ isOpen, onClose, onApplyFilter, onClearFilter }) => {
      const [searchQuery, setSearchQuery] = useState('');
      const [expandedNodes, setExpandedNodes] = useState(new Set());
      const [selectedFilter, setSelectedFilter] = useState(null);

      const handleToggle = (nodeKey) => {
        setExpandedNodes(prev => {
          const next = new Set(prev);
          if (next.has(nodeKey)) next.delete(nodeKey);
          else next.add(nodeKey);
          return next;
        });
      };

      const handleSelect = (node, path) => {
        setSelectedFilter({
          path: [...path, node.id],
          label: node.name,
          type: node.type,
          userCount: node.userCount,
          node: node
        });
      };

      const handleApply = () => {
        onApplyFilter(selectedFilter);
        onClose();
      };

      const handleClear = () => {
        setSelectedFilter(null);
        setSearchQuery('');
        setExpandedNodes(new Set());
        onClearFilter();
      };

      if (!isOpen) return null;

      return (
        <div className="overlay" onClick={onClose}>
          <div className="modal" onClick={(e) => e.stopPropagation()}>
            <div className="titleGroup">
              <h2 className="modal-title">User filter</h2>
              <button className="closeButton" onClick={onClose}>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <line x1="18" y1="6" x2="6" y2="18" strokeWidth="2"/>
                  <line x1="6" y1="6" x2="18" y2="18" strokeWidth="2"/>
                </svg>
              </button>
            </div>

            <div className="searchInput">
              <input
                type="text"
                placeholder="Search regions, products, orgs, or roles..."
                value={searchQuery}
                onChange={(e) => setSearchQuery(e.target.value)}
                className="modal-input"
              />
              <div className="modal-search-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <circle cx="11" cy="11" r="8" strokeWidth="2"/>
                  <path d="m21 21-4.35-4.35" strokeWidth="2"/>
                </svg>
              </div>
            </div>

            <div className="treeContainer">
              {HIERARCHY_DATA.map(node => (
                <TreeNode
                  key={node.id}
                  node={node}
                  path={[]}
                  expandedNodes={expandedNodes}
                  onToggle={handleToggle}
                  onSelect={handleSelect}
                />
              ))}
            </div>

            {selectedFilter && (
              <div className="selectedFilter">
                <div className="selectedLabel">
                  <strong>Selected:</strong> {selectedFilter.label} ({selectedFilter.userCount} users)
                </div>
                <button className="clearButton" onClick={handleClear}>Clear selection & filter</button>
              </div>
            )}

            <div className="modal-footer">
              {selectedFilter ? 'Click "Apply filter" to update the table, or "Clear selection & filter" to remove it' : 'Select any level to filter users'}
            </div>

            <div>
              <button className="primaryButton" onClick={handleApply} disabled={!selectedFilter}>
                Apply filter
              </button>
            </div>
          </div>
        </div>
      );
    };

    // Main App
    function App() {
      const [theme, setTheme] = useState('light');
      const [isFilterOpen, setIsFilterOpen] = useState(false);
      const [activeFilter, setActiveFilter] = useState(null);
      const [searchQuery, setSearchQuery] = useState('');
      const [currentPage, setCurrentPage] = useState(1);
      const usersPerPage = 10;

      useEffect(() => {
        document.documentElement.setAttribute('data-theme', theme);
      }, [theme]);

      // Filter users based on active hierarchical filter
      const filteredUsers = useMemo(() => {
        let users = ALL_USERS;

        if (activeFilter && activeFilter.path) {
          const path = activeFilter.path;
          users = users.filter(user => {
            if (path[0] && user.region !== path[0]) return false;
            if (path[1] && user.product !== path[1]) return false;
            if (path[2] && user.org !== path[2] && user.org !== path[2]) return false;
            if (path[3] && user.dealership && user.dealership !== path[3]) return false;
            if (path[4] && user.role !== path[4]) return false;
            if (path.length === 3 && !user.dealership && user.role !== path[2]) {
              const lastId = path[path.length - 1];
              if (user.role !== lastId) return false;
            }
            return true;
          });
        }

        if (searchQuery.trim()) {
          const query = searchQuery.toLowerCase();
          users = users.filter(user =>
            user.name.toLowerCase().includes(query) ||
            user.email.toLowerCase().includes(query)
          );
        }

        return users;
      }, [activeFilter, searchQuery]);

      // Pagination
      const totalPages = Math.ceil(filteredUsers.length / usersPerPage);
      const startIndex = (currentPage - 1) * usersPerPage;
      const paginatedUsers = filteredUsers.slice(startIndex, startIndex + usersPerPage);

      // Reset to page 1 when filter changes
      useEffect(() => {
        setCurrentPage(1);
      }, [activeFilter, searchQuery]);

      const handleRemoveFilter = () => {
        setActiveFilter(null);
        setCurrentPage(1);
      };

      return (
        <div className="page-container">
          {/* Hub Toolbar */}
          <div className="hub-toolbar">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white">
              <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" strokeWidth="2"/>
            </svg>
            <span className="hub-toolbar-label active">Hub</span>
            <span className="hub-toolbar-label inactive">Connect</span>
            
            <div className="theme-toggle-wrapper">
              <span className="theme-label">Dark</span>
              <button 
                className={`toggle-switch ${theme === 'dark' ? 'active' : ''}`}
                onClick={() => setTheme(theme === 'light' ? 'dark' : 'light')}
              >
                <div className="toggle-thumb">
                  {theme === 'dark' ? 'üåô' : '‚òÄÔ∏è'}
                </div>
              </button>
            </div>
          </div>

          {/* Layout Container */}
          <div className="layout-container">
            {/* Menu Drawer */}
            <div className="menu-drawer">
              <div className="menu-main">
                <div>
                  <div style={{ fontSize: '18px', color: 'white', fontWeight: '500' }}>Ohme</div>
                  <div className="menu-logo-text">HUB</div>
                </div>

                <div style={{ display: 'flex', flexDirection: 'column', gap: '48px' }}>
                  <div>
                    <div className="menu-section-label">Admin panel</div>
                    <div className="menu-items">
                      <button className="menu-item">
                        <div className="menu-item-icon">
                          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"><rect x="4" y="2" width="16" height="20" rx="2" strokeWidth="2"/></svg>
                        </div>
                        <span className="menu-item-text">Companies</span>
                      </button>
                      <button className="menu-item active">
                        <div className="menu-item-icon">
                          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" strokeWidth="2"/><circle cx="12" cy="7" r="4" strokeWidth="2"/></svg>
                        </div>
                        <span className="menu-item-text">Users</span>
                      </button>
                    </div>
                  </div>

                  <div>
                    <div className="menu-section-label">Organisation</div>
                    <div className="menu-items">
                      <button className="menu-item">
                        <div className="menu-item-icon">
                          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"><rect x="4" y="2" width="16" height="20" rx="2" strokeWidth="2"/></svg>
                        </div>
                        <span className="menu-item-text">Company</span>
                      </button>
                      <button className="menu-item">
                        <div className="menu-item-icon">
                          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" strokeWidth="2"/><circle cx="12" cy="7" r="4" strokeWidth="2"/></svg>
                        </div>
                        <span className="menu-item-text">Users</span>
                      </button>
                    </div>
                  </div>

                  <div>
                    <div className="menu-section-label">Support</div>
                    <div className="menu-items">
                      <button className="menu-item">
                        <div className="menu-item-icon">
                          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z" strokeWidth="2"/></svg>
                        </div>
                        <span className="menu-item-text">Resources</span>
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <div className="menu-userbar">
                <div className="menu-user-info">
                  <div className="menu-user-avatar"></div>
                  <div>
                    <div className="menu-user-name">David A.</div>
                    <div className="menu-user-role">Engineer</div>
                  </div>
                </div>
                <button className="menu-item">
                  <div className="menu-item-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"><circle cx="12" cy="12" r="3" strokeWidth="2"/><path d="M12 1v6m0 6v6" strokeWidth="2"/></svg>
                  </div>
                  <span className="menu-item-text">Settings</span>
                </button>
                <button className="menu-item">
                  <div className="menu-item-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4M16 17l5-5-5-5M21 12H9" strokeWidth="2"/></svg>
                  </div>
                  <span className="menu-item-text">Log out</span>
                </button>
              </div>

              <div className="menu-collapse">‚Üê</div>
            </div>

            {/* Main Area */}
            <div className="main-area">
              {/* Header Bar */}
              <div className="header-bar">
                <button className="back-button">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor">
                    <path d="M10 12L6 8l4-4" strokeWidth="2"/>
                  </svg>
                  <span className="back-button-text">Back</span>
                </button>
                <div className="header-company">
                  <span className="header-company-name">Ohme Admin</span>
                </div>
              </div>

              {/* Content Container with scrolling */}
              <div className="content-container">
                <div className="main-content">
                  {/* Title Group */}
                  <div className="title-group">
                    <div className="title-header">
                      <svg width="50" height="50" viewBox="0 0 50 50" fill="none" stroke="currentColor">
                        <path d="M42 21c0 11-17 26-17 26S8 32 8 21a17 17 0 0 1 34 0z" strokeWidth="2"/>
                        <circle cx="25" cy="21" r="5" strokeWidth="2"/>
                      </svg>
                      <h1 className="title-text">Users</h1>
                    </div>
                    <button className="add-user-button">
                      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <line x1="12" y1="5" x2="12" y2="19" strokeWidth="2"/>
                        <line x1="5" y1="12" x2="19" y2="12" strokeWidth="2"/>
                      </svg>
                      <span className="add-user-button-text">User</span>
                    </button>
                  </div>

                  {/* Table Container */}
                  <div className="table-container">
                    <div className="table-inner">
                      {/* Table Controls */}
                      <div className="table-controls">
                        <div className="search-and-filter">
                          <div className="search-input-wrapper">
                            <input
                              type="text"
                              placeholder="Search table"
                              value={searchQuery}
                              onChange={(e) => setSearchQuery(e.target.value)}
                              className="search-input"
                            />
                          </div>
                          <button 
                            className={`filter-button ${activeFilter ? 'has-filters' : ''}`}
                            onClick={() => setIsFilterOpen(true)}
                          >
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                              <line x1="4" y1="6" x2="20" y2="6" strokeWidth="2"/>
                              <line x1="7" y1="12" x2="17" y2="12" strokeWidth="2"/>
                              <line x1="10" y1="18" x2="14" y2="18" strokeWidth="2"/>
                            </svg>
                            <span className="filter-button-text">Filters ({activeFilter ? '1' : '0'})</span>
                          </button>
                        </div>

                        {activeFilter && (
                          <div className="applied-filters">
                            <div className="filter-pills">
                              <div className="filter-pill">
                                <span className="filter-pill-label">Filter:</span>
                                <span className="filter-pill-value">{activeFilter.label}</span>
                                <button className="filter-pill-remove" onClick={handleRemoveFilter}>√ó</button>
                              </div>
                            </div>
                            <button className="clear-filters-button" onClick={handleRemoveFilter}>Clear all</button>
                          </div>
                        )}
                      </div>

                      {/* Table Results */}
                      <div className="table-results">
                        <div className="results-count">
                          <span className="regular">Showing</span>
                          <span className="semibold">{paginatedUsers.length}</span>
                          <span className="regular">of</span>
                          <span className="semibold">{filteredUsers.length}</span>
                          <span className="regular">users</span>
                        </div>

                        {/* Table with Scroll */}
                        <div className="table-wrapper">
                          <div className="table-body">
                            <div className="table-header">
                              <div className="table-header-cell col-name">
                                <span className="table-header-label">Name</span>
                              </div>
                              <div className="table-header-cell col-email">
                                <span className="table-header-label">Email</span>
                              </div>
                              <div className="table-header-cell col-hub">
                                <span className="table-header-label">Hub</span>
                              </div>
                              <div className="table-header-cell col-status">
                                <span className="table-header-label">Status</span>
                              </div>
                              <div className="table-header-cell col-last-active">
                                <span className="table-header-label">Last active</span>
                              </div>
                              <div className="col-action"></div>
                            </div>

                            {paginatedUsers.length > 0 ? (
                              paginatedUsers.map(user => (
                                <div key={user.id} className="table-row">
                                  <div className="table-cell col-name">
                                    <div className="namegroup-cell">
                                      <div className="namegroup-avatar"></div>
                                      <span className="namegroup-name">{user.name}</span>
                                    </div>
                                  </div>
                                  <div className="table-cell col-email">
                                    <span className="text-cell">{user.email}</span>
                                  </div>
                                  <div className="table-cell col-hub">
                                    <span className="text-cell">{user.hub}</span>
                                  </div>
                                  <div className="table-cell col-status">
                                    <div className={`status-pill ${user.status.toLowerCase()}`}>{user.status}</div>
                                  </div>
                                  <div className="table-cell col-last-active">
                                    <span className="text-cell">{user.lastActive}</span>
                                  </div>
                                  <div className="table-cell col-action action-cell">
                                    <button className="action-button">
                                      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor">
                                        <path d="M11.333 2a1.886 1.886 0 0 1 2.667 2.667l-9.333 9.333H2v-2.667l9.333-9.333z" strokeWidth="1.5"/>
                                      </svg>
                                    </button>
                                  </div>
                                </div>
                              ))
                            ) : (
                              <div className="empty-state">
                                <h3>No users found</h3>
                                <p>Try adjusting your search or filter</p>
                              </div>
                            )}
                          </div>
                        </div>

                        {/* Pagination */}
                        {filteredUsers.length > usersPerPage && (
                          <div className="pagination">
                            <button 
                              className="pagination-button"
                              onClick={() => setCurrentPage(p => Math.max(1, p - 1))}
                              disabled={currentPage === 1}
                            >
                              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor">
                                <path d="M10 12L6 8l4-4" strokeWidth="2"/>
                              </svg>
                            </button>
                            <span className="pagination-info">
                              Page {currentPage} of {totalPages}
                            </span>
                            <button 
                              className="pagination-button"
                              onClick={() => setCurrentPage(p => Math.min(totalPages, p + 1))}
                              disabled={currentPage === totalPages}
                            >
                              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor">
                                <path d="M6 4l4 4-4 4" strokeWidth="2"/>
                              </svg>
                            </button>
                          </div>
                        )}
                      </div>
                    </div>
                  </div>

                  {/* Footer - now sits below table */}
                  <div className="footer">
                    <div className="footer-copy">Copyright ¬© 2024 Ohme Operation UK Ltd</div>
                    <div className="footer-phone">+44 (0) 020 3375 1586</div>
                    <div className="footer-support">
                      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <circle cx="12" cy="12" r="10" strokeWidth="2"/>
                        <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3M12 17h.01" strokeWidth="2"/>
                      </svg>
                      <span className="footer-support-text">Support</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          {/* Filter Modal */}
          <UserFilterModal
            isOpen={isFilterOpen}
            onClose={() => setIsFilterOpen(false)}
            onApplyFilter={setActiveFilter}
            onClearFilter={() => setActiveFilter(null)}
          />
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>
